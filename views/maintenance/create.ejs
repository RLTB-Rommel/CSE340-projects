<div class="wrapper maint-wrapper">
  <h1>New Maintenance Schedule</h1>

  <!-- Center the gray panel and make it hug the form -->
  <div class="maint-panel-container" style="text-align:center;">
    <div class="maint-panel" style="display:inline-block;">
      <div class="form-box"><!-- inner beige card -->

        <% if (errors && errors.length) { %>
          <div class="form-error-above" role="alert">
            <ul>
              <% errors.forEach(e => { %>
                <li><%= e %></li>
              <% }) %>
            </ul>
          </div>
        <% } %>

        <form class="form" method="post" action="/maintenance/create" novalidate>
          <fieldset class="form-group">
            <legend>Client</legend>
            <label>Customer Name* 
              <input name="customer_name" required value="<%= (data && data.customer_name) || '' %>">
            </label>
            <label>Contact 
              <input name="customer_contact" value="<%= (data && data.customer_contact) || '' %>">
            </label>
          </fieldset>

          <fieldset class="form-group">
            <legend>Vehicle</legend>
            <label>Make* 
              <input name="vehicle_make" required value="<%= (data && data.vehicle_make) || '' %>">
            </label>
            <label>Model* 
              <input name="vehicle_model" required value="<%= (data && data.vehicle_model) || '' %>">
            </label>
            <label>Plate 
              <input name="plate_no" value="<%= (data && data.plate_no) || '' %>">
            </label>
            <label>Odometer (km) 
              <input type="number" min="0" name="odometer_km" value="<%= (data && data.odometer_km) || '' %>">
            </label>
          </fieldset>

          <fieldset class="form-group">
            <legend>Maintenance</legend>
            <label>Task*
              <select name="task_id" required>
                <option value="">Select a task</option>
                <% (tasks || []).forEach(t => { %>
                  <option value="<%= t.task_id %>" <%= (data && String(data.task_id)===String(t.task_id)) ? 'selected' : '' %>>
                    <%= t.name %>
                  </option>
                <% }) %>
              </select>
            </label>
            <label>Due Date* 
              <input type="date" name="due_date" required value="<%= (data && data.due_date) || '' %>">
            </label>
            <label>Notes 
              <textarea name="notes"><%= (data && data.notes) || '' %></textarea>
            </label>
          </fieldset>

          <div class="form-actions" style="margin-top:.5rem;">
            <button class="btn-primary" type="submit">Create</button>
            <a class="btn-primary" href="/maintenance" style="background:#fff;color:#8c0311;border:1px solid #8c0311;display:inline-block;text-align:center;">Cancel</a>
          </div>
        </form>

      </div><!-- /.form-box -->
    </div><!-- /.maint-panel -->
  </div><!-- /.maint-panel-container -->
</div><!-- /.wrapper.maint-wrapper -->